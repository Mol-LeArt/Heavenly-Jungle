{"ast":null,"code":"var _jsxFileName = \"/home/danielo/Development/ui/dashboardV1/src/puiViewCommons.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { DefaultButton, PrimaryButton, DangerButton, BrandButton } from 'pivotal-ui/react/buttons';\nimport { Grid, FlexCol } from 'pivotal-ui/react/flex-grids';\nimport { Panel } from 'pivotal-ui/react/panels';\nimport { Divider } from 'pivotal-ui/react/dividers';\nimport { Image } from 'pivotal-ui/react/images';\nimport { Input } from 'pivotal-ui/react/inputs';\nimport { Modal } from 'pivotal-ui/react/modal';\nimport { Checkbox } from 'pivotal-ui/react/checkbox';\nimport { Radio, RadioGroup } from 'pivotal-ui/react/radio';\nimport { ethers } from 'ethers';\nimport { Tooltip, TooltipTrigger } from 'pivotal-ui/react/tooltip';\nimport logo from \"./logo.svg\";\nimport './App.css';\nimport 'pivotal-ui/css/modal';\nimport moralis from \"moralis\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nmoralis.initialize(process.env.REACT_APP_MORALIS_APPLICATION_ID);\nmoralis.serverURL = process.env.REACT_APP_MORALIS_SERVER_URL;\nconst orgaddresses = [];\n\nfunction App() {\n  _s();\n\n  const initialUser = moralis.User.current();\n  const [user, setUser] = useState(initialUser);\n  const [clist, setList] = useState('');\n  const [orgList, setOrgList] = useState('');\n  const [address, setAddress] = useState('Connect Wallet');\n  const [chain, setChain] = useState('');\n  const [connect, toggleConnect] = useState(false);\n  window.addEventListener('load', async function () {\n    if (user) {\n      await getNetwork();\n      setUser(user);\n      setAddress(user.get(\"ethAddress\"));\n      getCommons();\n    }\n  });\n  const provider = new ethers.providers.Web3Provider(window.ethereum);\n\n  const getNetwork = () => {\n    provider.getNetwork().then(network => {\n      console.log('current chainId - ' + network.chainId);\n\n      if (network.chainId === 100) {\n        setChain('xDAI');\n        toggleConnect(true);\n      } else if (network.chainId === 4) {\n        setChain('Rinkeby');\n        toggleConnect(true);\n      } else if (network.chainId === 1) {\n        setChain('Mainnet');\n        toggleConnect(true);\n      } else if (network.chainId === 3) {\n        setChain('Ropsten');\n        toggleConnect(true);\n      } else if (network.chainId === 42) {\n        setChain('Kovan');\n        toggleConnect(true);\n      } else {\n        console.log('Pick a supported blockchain!');\n      }\n    }).catch(err => {\n      alert('err ' + err);\n      console.log(err);\n    });\n  };\n\n  const onLogin = async () => {\n    await getNetwork();\n    const user = await moralis.authenticate();\n    setUser(user);\n    setAddress(user.get(\"ethAddress\"));\n  };\n\n  const onLogout = () => {\n    moralis.User.logOut();\n    setUser(null);\n  };\n\n  const aboutus = () => {\n    window.location = '/about?commonsId=' + window.location.search.substring(11);\n  };\n\n  const Organizer = moralis.Object.extend(\"Organizer\", {// Instance methods\n  }, {\n    newOrganizer: function (index) {\n      const organizer = new Organizer();\n      alert('org ' + document.getElementById('organizer' + index).value);\n      organizer.set(\"address\", document.getElementById('organizer' + index).value);\n      return organizer;\n    }\n  });\n  const Avatar = moralis.Object.extend(\"Avatar\", {// Instance methods\n  }, {\n    newAvatar: function (imageHash, address) {\n      const avatar = new Avatar();\n      avatar.set(\"image\", imageHash);\n      avatar.set(\"owneraddress\", address);\n      return avatar;\n    }\n  });\n  const Commons = moralis.Object.extend(\"Commons\", {// Instance methods\n  }, {\n    newCommons: function () {\n      const commons = new Commons();\n      commons.set(\"name\", document.getElementById('commonsname').value);\n      commons.set(\"vaultsymbol\", document.getElementById('vaultsymbol').value);\n      commons.set(\"organizer\", document.getElementById('organizer0').value);\n      commons.set(\"vaultname\", document.getElementById('vaultname').value);\n      commons.set(\"confirmations\", document.getElementById('confirmations').value);\n      alert('tfer ' + document.getElementById('transferrable').checked + '');\n      commons.set(\"transferrable\", document.getElementById('transferrable').checked + '');\n      var radios = document.getElementsByName('radio-group');\n\n      for (var i = 0; i < radios.length; i++) {\n        if (radios[i].checked) {\n          commons.set(\"use\", radios[i].value); //        alert( 'elements ' + i + ' ' + radios[i].checked );\n        }\n      }\n\n      return commons;\n    }\n  });\n\n  const getCommons = async () => {\n    var commonsId = window.location.search.substring(11); //  alert( commonsId );\n\n    const query = new moralis.Query(Commons);\n    query.equalTo(\"objectId\", commonsId);\n    const results = await query.find();\n    var commonsObject;\n\n    for (let i = 0; i < results.length; i++) {\n      const object = results[i];\n      commonsObject = object;\n\n      const listItems = /*#__PURE__*/_jsxDEV(\"li\", {\n        children: object.get('name')\n      }, i, false, {\n        fileName: _jsxFileName,\n        lineNumber: 149,\n        columnNumber: 35\n      }, this);\n\n      setList(listItems);\n    }\n\n    const queryOrgs = new moralis.Query(Organizer);\n    queryOrgs.equalTo(\"parentId\", commonsId);\n    const orgResults = await queryOrgs.find();\n    let orglistItems = [];\n    let addresses = [];\n\n    for (let j = 0; j < orgResults.length; j++) {\n      const object = orgResults[j];\n      await object.fetch(); //  alert( 'org' + object.get( 'address' ) );\n\n      const queryAvatar = new moralis.Query(Avatar);\n      queryAvatar.equalTo(\"owneraddress\", object.get('address'));\n      const avatarResults = await queryAvatar.find();\n      var org; //  alert( 'avatars' + avatarResults.length );\n\n      if (avatarResults.length > 0) {\n        if (object && avatarResults[0]) {\n          org = {\n            address: object.get('address'),\n            url: 'https://gateway.pinata.cloud/ipfs/' + avatarResults[0].get(\"image\")\n          };\n        }\n      } else {\n        org = {\n          address: object.get('address'),\n          url: 'profile.jpg'\n        };\n      }\n\n      orglistItems.push(org);\n    }\n\n    const orgsDisplay = orglistItems.map((organizer, index) => /*#__PURE__*/_jsxDEV(TooltipTrigger, {\n      tooltip: organizer.address,\n      children: [\"\\xA0\", /*#__PURE__*/_jsxDEV(\"img\", {\n        src: organizer.url,\n        className: \"avatarimage\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 187,\n        columnNumber: 121\n      }, this), \"\\xA0\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 187,\n      columnNumber: 71\n    }, this));\n    setOrgList(orgsDisplay);\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"App\",\n    children: /*#__PURE__*/_jsxDEV(Panel, {\n      title: 'Overview',\n      titleCols: [/*#__PURE__*/_jsxDEV(FlexCol, {\n        fixed: true,\n        children: [/*#__PURE__*/_jsxDEV(BrandButton, {\n          href: \"/\",\n          children: \"Home\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 193,\n          columnNumber: 83\n        }, this), /*#__PURE__*/_jsxDEV(BrandButton, {\n          onClick: aboutus,\n          children: \"About Us\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 193,\n          columnNumber: 124\n        }, this), /*#__PURE__*/_jsxDEV(PrimaryButton, {\n          onClick: onLogin,\n          children: address + ' - ' + chain\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 193,\n          columnNumber: 178\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 193,\n        columnNumber: 68\n      }, this)],\n      style: {\n        padding: '8px',\n        background: '#f2f2f2'\n      },\n      children: [/*#__PURE__*/_jsxDEV(Grid, {\n        className: \"grid-show \",\n        children: [/*#__PURE__*/_jsxDEV(FlexCol, {\n          fixed: true,\n          style: {\n            width: '35%'\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 195,\n          columnNumber: 27\n        }, this), /*#__PURE__*/_jsxDEV(FlexCol, {\n          style: {\n            padding: '8px'\n          },\n          children: /*#__PURE__*/_jsxDEV(\"h1\", {\n            children: clist\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 196,\n            columnNumber: 68\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 196,\n          columnNumber: 27\n        }, this), /*#__PURE__*/_jsxDEV(FlexCol, {\n          className: \"col-grow-2\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 197,\n          columnNumber: 27\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 194,\n        columnNumber: 25\n      }, this), /*#__PURE__*/_jsxDEV(Grid, {\n        className: \"grid-show \",\n        children: [/*#__PURE__*/_jsxDEV(FlexCol, {\n          fixed: true,\n          style: {\n            width: '35%'\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 201,\n          columnNumber: 27\n        }, this), /*#__PURE__*/_jsxDEV(FlexCol, {\n          style: {\n            padding: '8px'\n          },\n          children: [\"Organizers \", orgList]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 202,\n          columnNumber: 27\n        }, this), /*#__PURE__*/_jsxDEV(FlexCol, {\n          className: \"col-grow-2\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 203,\n          columnNumber: 27\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 200,\n        columnNumber: 25\n      }, this), /*#__PURE__*/_jsxDEV(Grid, {\n        className: \"grid-show \",\n        children: [/*#__PURE__*/_jsxDEV(FlexCol, {\n          style: {\n            background: '##f8f8f8',\n            margin: '8px 8px',\n            padding: '8px'\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 207,\n          columnNumber: 33\n        }, this), /*#__PURE__*/_jsxDEV(FlexCol, {\n          className: \"box-shadow-amb-3\",\n          fixed: true,\n          style: {\n            width: '1025px',\n            background: '#fff8f8',\n            margin: '16px 16px',\n            padding: '16px'\n          },\n          children: [/*#__PURE__*/_jsxDEV(Grid, {\n            className: \"grid-show \",\n            children: [/*#__PURE__*/_jsxDEV(FlexCol, {\n              className: \"box-shadow-amb-3\",\n              style: {\n                background: '#f8f8f8',\n                margin: '8px 8px',\n                padding: '8px'\n              },\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"bg-light-gray pal\",\n                children: /*#__PURE__*/_jsxDEV(Image, {\n                  href: \"/nftview?panel=1\",\n                  className: \"box-shadow-3 txt-c\",\n                  src: \"/panelsSmall/1.jpg\",\n                  alt: \"Iweng\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 215,\n                  columnNumber: 53\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 214,\n                columnNumber: 49\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 213,\n              columnNumber: 45\n            }, this), /*#__PURE__*/_jsxDEV(FlexCol, {\n              className: \"box-shadow-amb-3\",\n              style: {\n                background: '#f8f8f8',\n                margin: '8px 8px',\n                padding: '8px'\n              },\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"bg-light-gray pal\",\n                children: /*#__PURE__*/_jsxDEV(Image, {\n                  href: \"/nftview?panel=2\",\n                  className: \"box-shadow-3 txt-c\",\n                  src: \"/panelsSmall/2.jpg\",\n                  alt: \"Iweng\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 220,\n                  columnNumber: 53\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 219,\n                columnNumber: 49\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 218,\n              columnNumber: 45\n            }, this), /*#__PURE__*/_jsxDEV(FlexCol, {\n              className: \"box-shadow-amb-3\",\n              style: {\n                background: '#f8f8f8',\n                margin: '8px 8px',\n                padding: '8px'\n              },\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"bg-light-gray pal\",\n                children: /*#__PURE__*/_jsxDEV(Image, {\n                  href: \"/nftview?panel=3\",\n                  className: \"box-shadow-3 txt-c\",\n                  src: \"/panelsSmall/3.jpg\",\n                  alt: \"Iweng\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 225,\n                  columnNumber: 53\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 224,\n                columnNumber: 49\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 223,\n              columnNumber: 45\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 212,\n            columnNumber: 37\n          }, this), /*#__PURE__*/_jsxDEV(Grid, {\n            className: \"grid-show \",\n            children: [/*#__PURE__*/_jsxDEV(FlexCol, {\n              className: \"box-shadow-amb-3\",\n              style: {\n                height: '250px',\n                background: '#f8f8f8',\n                margin: '8px 8px',\n                padding: '8px'\n              },\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"bg-light-gray pal\",\n                children: /*#__PURE__*/_jsxDEV(Image, {\n                  href: \"/nftview?panel=4\",\n                  className: \"box-shadow-3 txt-c\",\n                  src: \"/panelsSmall/4.jpg\",\n                  alt: \"Iweng\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 233,\n                  columnNumber: 53\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 232,\n                columnNumber: 49\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 231,\n              columnNumber: 45\n            }, this), /*#__PURE__*/_jsxDEV(FlexCol, {\n              className: \"box-shadow-amb-3\",\n              style: {\n                height: '250px',\n                background: '#f8f8f8',\n                margin: '8px 8px',\n                padding: '8px'\n              },\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"bg-light-gray pal\",\n                children: /*#__PURE__*/_jsxDEV(Image, {\n                  href: \"/nftview?panel=5\",\n                  className: \"box-shadow-3 txt-c\",\n                  src: \"/panelsSmall/5.jpg\",\n                  alt: \"Iweng\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 238,\n                  columnNumber: 53\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 237,\n                columnNumber: 49\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 236,\n              columnNumber: 45\n            }, this), /*#__PURE__*/_jsxDEV(FlexCol, {\n              className: \"box-shadow-amb-3\",\n              style: {\n                height: '250px',\n                background: '#f8f8f8',\n                margin: '8px 8px',\n                padding: '8px'\n              },\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"bg-light-gray pal\",\n                children: /*#__PURE__*/_jsxDEV(Image, {\n                  href: \"/nftview?panel=6\",\n                  className: \"box-shadow-3 txt-c\",\n                  src: \"/panelsSmall/6.jpg\",\n                  alt: \"Iweng\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 243,\n                  columnNumber: 53\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 242,\n                columnNumber: 49\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 241,\n              columnNumber: 45\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 230,\n            columnNumber: 37\n          }, this), /*#__PURE__*/_jsxDEV(Grid, {\n            className: \"grid-show \",\n            children: [/*#__PURE__*/_jsxDEV(FlexCol, {\n              className: \"box-shadow-amb-3\",\n              style: {\n                height: '250px',\n                background: '#f8f8f8',\n                margin: '8px 8px',\n                padding: '8px'\n              },\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"bg-light-gray pal\",\n                children: /*#__PURE__*/_jsxDEV(Image, {\n                  href: \"/nftview?panel=7\",\n                  className: \"box-shadow-3 txt-c\",\n                  src: \"/panelsSmall/7.jpg\",\n                  alt: \"Iweng\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 251,\n                  columnNumber: 53\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 250,\n                columnNumber: 49\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 249,\n              columnNumber: 45\n            }, this), /*#__PURE__*/_jsxDEV(FlexCol, {\n              className: \"box-shadow-amb-3\",\n              style: {\n                height: '250px',\n                background: '#f8f8f8',\n                margin: '8px 8px',\n                padding: '8px'\n              },\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"bg-light-gray pal\",\n                children: /*#__PURE__*/_jsxDEV(Image, {\n                  href: \"/nftview?panel=8\",\n                  className: \"box-shadow-3 txt-c\",\n                  src: \"/panelsSmall/8.jpg\",\n                  alt: \"Iweng\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 256,\n                  columnNumber: 53\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 255,\n                columnNumber: 49\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 254,\n              columnNumber: 45\n            }, this), /*#__PURE__*/_jsxDEV(FlexCol, {\n              className: \"box-shadow-amb-3\",\n              style: {\n                height: '250px',\n                background: '#f8f8f8',\n                margin: '8px 8px',\n                padding: '8px'\n              },\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"bg-light-gray pal\",\n                children: /*#__PURE__*/_jsxDEV(Image, {\n                  href: \"/nftview?panel=9\",\n                  className: \"box-shadow-3 txt-c\",\n                  src: \"/panelsSmall/9.jpg\",\n                  alt: \"Iweng\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 261,\n                  columnNumber: 53\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 260,\n                columnNumber: 49\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 259,\n              columnNumber: 45\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 248,\n            columnNumber: 37\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 210,\n          columnNumber: 33\n        }, this), /*#__PURE__*/_jsxDEV(FlexCol, {\n          style: {\n            background: '##f8f8f8',\n            margin: '8px 8px',\n            padding: '8px'\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 266,\n          columnNumber: 38\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 206,\n        columnNumber: 26\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 193,\n      columnNumber: 25\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 192,\n    columnNumber: 21\n  }, this);\n}\n\n_s(App, \"USGY5Q1NZMIDtcOZtuf/apT/xVY=\");\n\n_c = App;\nexport default App;\n\nvar _c;\n\n$RefreshReg$(_c, \"App\");","map":{"version":3,"sources":["/home/danielo/Development/ui/dashboardV1/src/puiViewCommons.js"],"names":["React","useState","ReactDOM","DefaultButton","PrimaryButton","DangerButton","BrandButton","Grid","FlexCol","Panel","Divider","Image","Input","Modal","Checkbox","Radio","RadioGroup","ethers","Tooltip","TooltipTrigger","moralis","initialize","process","env","REACT_APP_MORALIS_APPLICATION_ID","serverURL","REACT_APP_MORALIS_SERVER_URL","orgaddresses","App","initialUser","User","current","user","setUser","clist","setList","orgList","setOrgList","address","setAddress","chain","setChain","connect","toggleConnect","window","addEventListener","getNetwork","get","getCommons","provider","providers","Web3Provider","ethereum","then","network","console","log","chainId","catch","err","alert","onLogin","authenticate","onLogout","logOut","aboutus","location","search","substring","Organizer","Object","extend","newOrganizer","index","organizer","document","getElementById","value","set","Avatar","newAvatar","imageHash","avatar","Commons","newCommons","commons","checked","radios","getElementsByName","i","length","commonsId","query","Query","equalTo","results","find","commonsObject","object","listItems","queryOrgs","orgResults","orglistItems","addresses","j","fetch","queryAvatar","avatarResults","org","url","push","orgsDisplay","map","title","titleCols","style","padding","background","width","margin","height"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\nimport ReactDOM from \"react-dom\";\nimport {DefaultButton, PrimaryButton, DangerButton, BrandButton} from 'pivotal-ui/react/buttons';\nimport {Grid, FlexCol} from 'pivotal-ui/react/flex-grids';\nimport {Panel} from 'pivotal-ui/react/panels';\nimport {Divider} from 'pivotal-ui/react/dividers';\nimport {Image} from 'pivotal-ui/react/images';\nimport {Input} from 'pivotal-ui/react/inputs';\nimport {Modal} from 'pivotal-ui/react/modal';\nimport {Checkbox} from 'pivotal-ui/react/checkbox';\nimport {Radio, RadioGroup} from 'pivotal-ui/react/radio';\nimport { ethers } from 'ethers'\nimport {Tooltip, TooltipTrigger} from 'pivotal-ui/react/tooltip';\n\nimport logo from './logo.svg';\nimport './App.css';\nimport 'pivotal-ui/css/modal';\nimport moralis from \"moralis\";\n\n\n\nmoralis.initialize(process.env.REACT_APP_MORALIS_APPLICATION_ID);\nmoralis.serverURL = process.env.REACT_APP_MORALIS_SERVER_URL;\n\nconst orgaddresses = [];\nfunction App() {\n\n        const initialUser = moralis.User.current();\n        const [user, setUser] = useState(initialUser);\n        const [clist, setList] = useState('');\n        const [orgList, setOrgList] = useState('');\n        const [address, setAddress] = useState('Connect Wallet');\n        const [chain, setChain] = useState('');\n        const [connect, toggleConnect] = useState(false);\n\n        window.addEventListener( 'load', async function() { if (user) { await getNetwork(); setUser(user); setAddress(user.get(\"ethAddress\") ); getCommons(); } }) ;\n       const provider = new ethers.providers.Web3Provider(window.ethereum);\n\n\nconst getNetwork = () => {\n    provider\n      .getNetwork()\n      .then((network) => {\n        console.log('current chainId - ' + network.chainId)\n        if (network.chainId === 100) {\n          setChain('xDAI')\n          toggleConnect(true)\n        } else if (network.chainId === 4) {\n          setChain('Rinkeby') \n          toggleConnect(true)\n        } else if (network.chainId === 1) {\n          setChain('Mainnet')\n          toggleConnect(true)\n        } else if (network.chainId === 3) {\n          setChain('Ropsten')\n          toggleConnect(true)\n        } else if (network.chainId === 42) {\n          setChain('Kovan')\n          toggleConnect(true)\n        } else {\n          console.log('Pick a supported blockchain!')\n        }\n      })\n      .catch((err) => {\n        alert( 'err ' + err );\n        console.log(err)\n      })\n  }\n\n       const onLogin = async () => {                                        \n                                        await getNetwork();\n                                        const user = await moralis.authenticate();\n                                        setUser(user);\n                                        setAddress(user.get(\"ethAddress\") );\n                                   };\n\n       const onLogout = () => {  moralis.User.logOut(); setUser(null); };\n\n       const aboutus = () => {  window.location = '/about?commonsId=' +  window.location.search.substring( 11 ) };\n\n        const Organizer = moralis.Object.extend( \"Organizer\", \n        {\n          // Instance methods\n\n        }, \n        {  \n            newOrganizer: function(index) { \n                                        const organizer = new Organizer();\n                                        alert( 'org ' + document.getElementById( 'organizer' + index ).value );\n                                        organizer.set( \"address\",        document.getElementById( 'organizer' + index ).value  );\n                                        return organizer; \n                                    }\n        });\n\n        const Avatar = moralis.Object.extend( \"Avatar\", \n        {\n          // Instance methods\n        }, \n        {  \n            newAvatar: function(imageHash,address) { \n                                        const avatar = new Avatar();\n                                        avatar.set( \"image\",        imageHash  );\n                                        avatar.set( \"owneraddress\",      address    );\n                                        return avatar; \n                                    }\n        });\n\n        const Commons = moralis.Object.extend( \"Commons\", \n        {\n          // Instance methods\n\n        }, \n        {  \n            newCommons: function() { \n                                        const commons = new Commons();\n                                        commons.set( \"name\",            document.getElementById( 'commonsname'     ).value  );\n                                        commons.set( \"vaultsymbol\",     document.getElementById( 'vaultsymbol'     ).value  );\n                                        commons.set( \"organizer\",       document.getElementById( 'organizer0'       ).value  ); \n                                        commons.set( \"vaultname\",       document.getElementById( 'vaultname'       ).value  ); \n                                        commons.set( \"confirmations\",   document.getElementById( 'confirmations'   ).value  );\n                                        alert( 'tfer ' + document.getElementById( 'transferrable'   ).checked + '' );\n                                        commons.set( \"transferrable\",   document.getElementById( 'transferrable'   ).checked + '' );\n                                       \n                                        var radios = document.getElementsByName( 'radio-group'   );                                 \n                                        for (var i = 0; i < radios.length; i++) \n                                        {\n                                            if ( radios[i].checked )\n                                            {\n                                               commons.set( \"use\",     radios[i].value  );\n                                       //        alert( 'elements ' + i + ' ' + radios[i].checked );\n                                            }\n                                        }\n                                        return commons; \n                                    }\n        });\n\n        const getCommons = async () =>\n        {\n            var commonsId =    window.location.search.substring( 11 );\n          //  alert( commonsId );\n            const query = new moralis.Query( Commons );\n            query.equalTo( \"objectId\", commonsId );\n            const results = await query.find();\n            var commonsObject;\n            for ( let i = 0; i < results.length; i++ ) \n            { \n                const object = results[i];\n                commonsObject = object;\n                const listItems = <li key={i}>{object.get('name') }</li>;\n                setList(listItems);\n            }\n            const queryOrgs = new moralis.Query( Organizer );\n            queryOrgs.equalTo( \"parentId\", commonsId );\n            const orgResults = await queryOrgs.find();\n            let orglistItems = [];\n            let addresses = [];\n            \n            \n            for ( let j = 0; j < orgResults.length; j++ ) \n            { \n                const object = orgResults[j];\n                await object.fetch();\n              //  alert( 'org' + object.get( 'address' ) );\n\n                const queryAvatar = new moralis.Query( Avatar );\n                queryAvatar.equalTo( \"owneraddress\", object.get( 'address' ) );\n                const avatarResults = await queryAvatar.find();\n                var org;\n              //  alert( 'avatars' + avatarResults.length );\n\n                if ( avatarResults.length > 0 )\n                {\n                    if ( object && avatarResults[0] )\n                    {\n                           org = { address: object.get( 'address' ), url: 'https://gateway.pinata.cloud/ipfs/' + avatarResults[0].get(\"image\") };\n                    }\n                }\n                else\n                {\n                    org = { address: object.get( 'address' ), url: 'profile.jpg' };\n                }  \n                orglistItems.push( org );          \n            }\n\n\n\n            const orgsDisplay = orglistItems.map((organizer,index) => <TooltipTrigger tooltip={organizer.address}>&nbsp;<img src={organizer.url}  className=\"avatarimage\" />&nbsp;</TooltipTrigger> );\n            setOrgList(orgsDisplay);\n        }\n\n        return (\n                    <div className=\"App\" >\n                        <Panel {...{title: 'Overview', titleCols: [<FlexCol fixed><BrandButton href=\"/\" >Home</BrandButton><BrandButton onClick={aboutus} >About Us</BrandButton><PrimaryButton onClick={onLogin} >{address + ' - ' + chain}</PrimaryButton></FlexCol>], style: {  padding: '8px', background: '#f2f2f2'}}}>\n                        <Grid className=\"grid-show \">\n                          <FlexCol fixed {...{style: {width: '35%'}}}/>\n                          <FlexCol {...{style: {padding: '8px'}}} ><h1>{clist}</h1></FlexCol>\n                          <FlexCol className=\"col-grow-2\"/>\n                        </Grid>\n\n                        <Grid className=\"grid-show \">\n                          <FlexCol fixed {...{style: {width: '35%'}}}/>\n                          <FlexCol {...{style: {padding: '8px'}}} >Organizers {orgList}</FlexCol>\n                          <FlexCol className=\"col-grow-2\"/>\n                        </Grid>\n\n                         <Grid className=\"grid-show \">\n                                <FlexCol   {...{  style: {  background: '##f8f8f8', margin: '8px 8px', padding: '8px'}}}>\n                                               \n                                            </FlexCol> \n                                <FlexCol className=\"box-shadow-amb-3\" fixed {...{  style: { width: '1025px',  background: '#fff8f8', margin: '16px 16px', padding: '16px'}}}>    \n                                   \n                                    <Grid className=\"grid-show \">\n                                            <FlexCol className=\"box-shadow-amb-3\" {...{  style: {  background: '#f8f8f8', margin: '8px 8px', padding: '8px'}}}>\n                                                <div className=\"bg-light-gray pal\" >\n                                                    <Image href=\"/nftview?panel=1\" className=\"box-shadow-3 txt-c\" src=\"/panelsSmall/1.jpg\" alt=\"Iweng\"/>\n                                                </div>\n                                            </FlexCol>\n                                            <FlexCol className=\"box-shadow-amb-3\" {...{  style: {  background: '#f8f8f8', margin: '8px 8px', padding: '8px'}}}>\n                                                <div className=\"bg-light-gray pal\" >\n                                                    <Image href=\"/nftview?panel=2\" className=\"box-shadow-3 txt-c\" src=\"/panelsSmall/2.jpg\" alt=\"Iweng\"/>\n                                                </div>\n                                            </FlexCol> \n                                            <FlexCol className=\"box-shadow-amb-3\" {...{  style: {  background: '#f8f8f8', margin: '8px 8px', padding: '8px'}}}>\n                                                <div className=\"bg-light-gray pal\" >\n                                                    <Image href=\"/nftview?panel=3\" className=\"box-shadow-3 txt-c\" src=\"/panelsSmall/3.jpg\" alt=\"Iweng\"/>\n                                                </div>\n                                            </FlexCol>  \n                                        </Grid>\n\n                                    <Grid className=\"grid-show \">\n                                            <FlexCol className=\"box-shadow-amb-3\" {...{  style: {height: '250px',  background: '#f8f8f8', margin: '8px 8px', padding: '8px'}}}>\n                                                <div className=\"bg-light-gray pal\" >\n                                                    <Image href=\"/nftview?panel=4\" className=\"box-shadow-3 txt-c\" src=\"/panelsSmall/4.jpg\" alt=\"Iweng\"/>\n                                                </div>\n                                            </FlexCol>\n                                            <FlexCol className=\"box-shadow-amb-3\" {...{  style: {height: '250px',  background: '#f8f8f8', margin: '8px 8px', padding: '8px'}}}>\n                                                <div className=\"bg-light-gray pal\" >\n                                                    <Image href=\"/nftview?panel=5\" className=\"box-shadow-3 txt-c\" src=\"/panelsSmall/5.jpg\" alt=\"Iweng\"/>\n                                                </div>\n                                            </FlexCol> \n                                            <FlexCol className=\"box-shadow-amb-3\" {...{  style: {height: '250px',  background: '#f8f8f8', margin: '8px 8px', padding: '8px'}}}>\n                                                <div className=\"bg-light-gray pal\" >\n                                                    <Image href=\"/nftview?panel=6\" className=\"box-shadow-3 txt-c\" src=\"/panelsSmall/6.jpg\" alt=\"Iweng\"/>\n                                                </div>\n                                            </FlexCol>  \n                                        </Grid>\n\n                                    <Grid className=\"grid-show \">\n                                            <FlexCol className=\"box-shadow-amb-3\" {...{  style: {height: '250px',  background: '#f8f8f8', margin: '8px 8px', padding: '8px'}}}>\n                                                <div className=\"bg-light-gray pal\" >\n                                                    <Image href=\"/nftview?panel=7\" className=\"box-shadow-3 txt-c\" src=\"/panelsSmall/7.jpg\" alt=\"Iweng\"/>\n                                                </div>\n                                            </FlexCol>\n                                            <FlexCol className=\"box-shadow-amb-3\" {...{  style: {height: '250px',  background: '#f8f8f8', margin: '8px 8px', padding: '8px'}}}>\n                                                <div className=\"bg-light-gray pal\" >\n                                                    <Image href=\"/nftview?panel=8\" className=\"box-shadow-3 txt-c\" src=\"/panelsSmall/8.jpg\" alt=\"Iweng\"/>\n                                                </div>\n                                            </FlexCol> \n                                            <FlexCol className=\"box-shadow-amb-3\" {...{  style: {height: '250px',  background: '#f8f8f8', margin: '8px 8px', padding: '8px'}}}>\n                                                <div className=\"bg-light-gray pal\" >\n                                                    <Image href=\"/nftview?panel=9\" className=\"box-shadow-3 txt-c\" src=\"/panelsSmall/9.jpg\" alt=\"Iweng\"/>\n                                                </div>\n                                            </FlexCol>  \n                                        </Grid>\n                                    </FlexCol> \n                                     <FlexCol   {...{  style: {  background: '##f8f8f8', margin: '8px 8px', padding: '8px'}}}>\n                                                \n                                            </FlexCol>   \n                                 </Grid>\n\n                      </Panel>\n                    </div>\n               );\n\n\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}