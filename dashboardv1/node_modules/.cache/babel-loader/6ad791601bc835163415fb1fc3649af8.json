{"ast":null,"code":"/* (c) Copyright 2020 Pivotal Software, Inc. All Rights Reserved. */\n\"use strict\";\n\nexports.__esModule = true;\nexports.Dialog = void 0;\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _dom_helpers = _interopRequireDefault(require(\"../helpers/dom_helpers\"));\n\nvar _classnames = _interopRequireDefault(require(\"classnames\"));\n\nvar _propTypes = _interopRequireDefault(require(\"prop-types\"));\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    \"default\": obj\n  };\n}\n\nfunction _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nfunction _inheritsLoose(subClass, superClass) {\n  subClass.prototype = Object.create(superClass.prototype);\n  subClass.prototype.constructor = subClass;\n  subClass.__proto__ = superClass;\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nvar Dialog = /*#__PURE__*/function (_React$PureComponent) {\n  _inheritsLoose(Dialog, _React$PureComponent);\n\n  function Dialog() {\n    var _this;\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _React$PureComponent.call.apply(_React$PureComponent, [this].concat(args)) || this;\n\n    _defineProperty(_assertThisInitialized(_this), \"state\", {\n      visible: false\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"hide\", function () {\n      return _this.props.onHide();\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"setParentZIndex\", function (zIndex) {\n      if (!_this.props.updateParentZIndex || !_this.el.parentNode) return;\n      _this.el.parentNode.style.zIndex = \"\" + zIndex;\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"closeDialog\", function () {\n      _this.setState({\n        visible: false\n      }, function () {\n        return _this.setParentZIndex(-1000);\n      });\n\n      _this.setBodyScrolling(true);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"openDialog\", function () {\n      _this.setBodyScrolling(false);\n\n      _this.setState({\n        visible: true\n      }, function () {\n        var tabbableEls = _dom_helpers[\"default\"].findTabbableElements(_this.dialog) || [];\n        tabbableEls[0] && tabbableEls[0].focus();\n\n        _this.setParentZIndex(1000);\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"setBodyScrolling\", function (canScroll) {\n      if (canScroll) {\n        return _dom_helpers[\"default\"].enableBodyScrolling({\n          overflow: _this.savedOverflow,\n          document: global.document\n        });\n      }\n\n      _this.savedOverflow = _dom_helpers[\"default\"].disableBodyScrolling(global.document);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onBackdropClick\", function (_ref) {\n      var target = _ref.target;\n      return target === _this.backdrop && _this.props.hideOnBackdropClick && _this.hide();\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onKeyDown\", function (e) {\n      var hideOnEscKeyDown = _this.props.hideOnEscKeyDown;\n      if (hideOnEscKeyDown && e.keyCode === Dialog.ESC_KEY) return _this.hide();\n      if (e.keyCode !== Dialog.TAB_KEY) return;\n      var tabbableElements = _dom_helpers[\"default\"].findTabbableElements(_this.dialog) || [];\n      if (!tabbableElements.length) return;\n      var maxTabIndex = tabbableElements.length - 1;\n      var lastTabbableEl = tabbableElements[e.shiftKey ? 0 : maxTabIndex];\n\n      var focused = _dom_helpers[\"default\"].getActiveElement();\n\n      if (focused !== lastTabbableEl && Array.from(tabbableElements).indexOf(focused) !== -1) return;\n      e.preventDefault();\n      var firstTabbableEl = tabbableElements[e.shiftKey ? maxTabIndex : 0];\n      firstTabbableEl.focus();\n    });\n\n    return _this;\n  }\n\n  var _proto = Dialog.prototype;\n\n  _proto.componentDidMount = function componentDidMount() {\n    require('../../css/dialog');\n\n    this.setParentZIndex(-1000);\n    if (!this.props.show) return;\n    global.document.addEventListener('keydown', this.onKeyDown);\n    this.lastFocusedElement = _dom_helpers[\"default\"].getActiveElement();\n    this.openDialog();\n  };\n\n  _proto.componentDidUpdate = function componentDidUpdate(oldProps) {\n    var _this$props = this.props,\n        show = _this$props.show,\n        animationDuration = _this$props.animationDuration;\n    if (oldProps.show === show) return;\n\n    if (show) {\n      global.document.addEventListener('keydown', this.onKeyDown);\n      this.lastFocusedElement = _dom_helpers[\"default\"].getActiveElement();\n\n      _dom_helpers[\"default\"].clearTimeout(this.closingTimeout);\n\n      this.openDialog();\n      return;\n    }\n\n    global.document.removeEventListener('keydown', this.onKeyDown);\n    this.lastFocusedElement && this.lastFocusedElement.focus();\n    this.closingTimeout = animationDuration <= 0 ? this.closeDialog() : _dom_helpers[\"default\"].setTimeout(this.closeDialog, animationDuration);\n  };\n\n  _proto.componentWillUnmount = function componentWillUnmount() {\n    this.setBodyScrolling(true);\n  };\n\n  _proto.render = function render() {\n    var _this2 = this;\n\n    var _this$props2 = this.props,\n        show = _this$props2.show,\n        animationDuration = _this$props2.animationDuration,\n        animationEasing = _this$props2.animationEasing,\n        className = _this$props2.className,\n        dialogClassName = _this$props2.dialogClassName,\n        ariaLabelledBy = _this$props2.ariaLabelledBy,\n        width = _this$props2.width,\n        children = _this$props2.children;\n    var visible = this.state.visible;\n    var disableAnimation = animationDuration <= 0;\n    var visibility = visible ? 'visible' : 'hidden';\n    var backdropStyle = {\n      visibility: visibility\n    };\n    var dialogStyle = {\n      width: width\n    };\n\n    if (!disableAnimation) {\n      backdropStyle.transition = \"opacity \" + animationDuration + \"ms \" + animationEasing + \" 0s\";\n      dialogStyle.transition = \"transform \" + animationDuration + \"ms \" + animationEasing + \" 0s\";\n    }\n\n    return _react[\"default\"].createElement(\"div\", {\n      className: (0, _classnames[\"default\"])('pui-dialog-container', {\n        'pui-dialog-visible': visible\n      }),\n      ref: function ref(el) {\n        return _this2.el = el;\n      }\n    }, _react[\"default\"].createElement(\"div\", {\n      className: (0, _classnames[\"default\"])('pui-dialog-backdrop', {\n        'pui-dialog-show': show\n      }, className),\n      style: backdropStyle,\n      onMouseDown: this.onBackdropClick,\n      'aria-hidden': !show,\n      ref: function ref(el) {\n        return _this2.backdrop = el;\n      }\n    }, _react[\"default\"].createElement(\"div\", {\n      role: 'dialog',\n      'aria-labelledby': ariaLabelledBy,\n      ref: function ref(el) {\n        return _this2.dialog = el;\n      },\n      className: (0, _classnames[\"default\"])('pui-dialog', {\n        'pui-dialog-show': show\n      }, dialogClassName),\n      style: dialogStyle\n    }, visible && children)));\n  };\n\n  return Dialog;\n}(_react[\"default\"].PureComponent);\n\nexports.Dialog = Dialog;\n\n_defineProperty(Dialog, \"propTypes\", {\n  animationDuration: _propTypes[\"default\"].number,\n  animationEasing: _propTypes[\"default\"].string,\n  ariaLabelledBy: _propTypes[\"default\"].string,\n  children: _propTypes[\"default\"].any,\n  className: _propTypes[\"default\"].string,\n  dialogClassName: _propTypes[\"default\"].string,\n  hideOnBackdropClick: _propTypes[\"default\"].bool,\n  hideOnEscKeyDown: _propTypes[\"default\"].bool,\n  onHide: _propTypes[\"default\"].func.isRequired,\n  show: _propTypes[\"default\"].bool,\n  title: _propTypes[\"default\"].node,\n  width: _propTypes[\"default\"].string,\n  updateParentZIndex: _propTypes[\"default\"].bool\n});\n\n_defineProperty(Dialog, \"defaultProps\", {\n  animationDuration: 200,\n  animationEasing: 'cubic-bezier(0.25, 0.46, 0.45, 0.94)'\n});\n\n_defineProperty(Dialog, \"ESC_KEY\", 27);\n\n_defineProperty(Dialog, \"TAB_KEY\", 9);","map":{"version":3,"sources":["/home/danielo/Development/ui/dashboardV1/node_modules/pivotal-ui/react/dialog/dialog.js"],"names":["exports","__esModule","Dialog","_react","_interopRequireDefault","require","_dom_helpers","_classnames","_propTypes","obj","_assertThisInitialized","self","ReferenceError","_inheritsLoose","subClass","superClass","prototype","Object","create","constructor","__proto__","_defineProperty","key","value","defineProperty","enumerable","configurable","writable","_React$PureComponent","_this","_len","arguments","length","args","Array","_key","call","apply","concat","visible","props","onHide","zIndex","updateParentZIndex","el","parentNode","style","setState","setParentZIndex","setBodyScrolling","tabbableEls","findTabbableElements","dialog","focus","canScroll","enableBodyScrolling","overflow","savedOverflow","document","global","disableBodyScrolling","_ref","target","backdrop","hideOnBackdropClick","hide","e","hideOnEscKeyDown","keyCode","ESC_KEY","TAB_KEY","tabbableElements","maxTabIndex","lastTabbableEl","shiftKey","focused","getActiveElement","from","indexOf","preventDefault","firstTabbableEl","_proto","componentDidMount","show","addEventListener","onKeyDown","lastFocusedElement","openDialog","componentDidUpdate","oldProps","_this$props","animationDuration","clearTimeout","closingTimeout","removeEventListener","closeDialog","setTimeout","componentWillUnmount","render","_this2","_this$props2","animationEasing","className","dialogClassName","ariaLabelledBy","width","children","state","disableAnimation","visibility","backdropStyle","dialogStyle","transition","createElement","ref","onMouseDown","onBackdropClick","role","PureComponent","number","string","any","bool","func","isRequired","title","node"],"mappings":"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","sourcesContent":["/* (c) Copyright 2020 Pivotal Software, Inc. All Rights Reserved. */\n\"use strict\";\n\nexports.__esModule = true;\nexports.Dialog = void 0;\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _dom_helpers = _interopRequireDefault(require(\"../helpers/dom_helpers\"));\n\nvar _classnames = _interopRequireDefault(require(\"classnames\"));\n\nvar _propTypes = _interopRequireDefault(require(\"prop-types\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _inheritsLoose(subClass, superClass) { subClass.prototype = Object.create(superClass.prototype); subClass.prototype.constructor = subClass; subClass.__proto__ = superClass; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nvar Dialog = /*#__PURE__*/function (_React$PureComponent) {\n  _inheritsLoose(Dialog, _React$PureComponent);\n\n  function Dialog() {\n    var _this;\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _React$PureComponent.call.apply(_React$PureComponent, [this].concat(args)) || this;\n\n    _defineProperty(_assertThisInitialized(_this), \"state\", {\n      visible: false\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"hide\", function () {\n      return _this.props.onHide();\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"setParentZIndex\", function (zIndex) {\n      if (!_this.props.updateParentZIndex || !_this.el.parentNode) return;\n      _this.el.parentNode.style.zIndex = \"\" + zIndex;\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"closeDialog\", function () {\n      _this.setState({\n        visible: false\n      }, function () {\n        return _this.setParentZIndex(-1000);\n      });\n\n      _this.setBodyScrolling(true);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"openDialog\", function () {\n      _this.setBodyScrolling(false);\n\n      _this.setState({\n        visible: true\n      }, function () {\n        var tabbableEls = _dom_helpers[\"default\"].findTabbableElements(_this.dialog) || [];\n        tabbableEls[0] && tabbableEls[0].focus();\n\n        _this.setParentZIndex(1000);\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"setBodyScrolling\", function (canScroll) {\n      if (canScroll) {\n        return _dom_helpers[\"default\"].enableBodyScrolling({\n          overflow: _this.savedOverflow,\n          document: global.document\n        });\n      }\n\n      _this.savedOverflow = _dom_helpers[\"default\"].disableBodyScrolling(global.document);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onBackdropClick\", function (_ref) {\n      var target = _ref.target;\n      return target === _this.backdrop && _this.props.hideOnBackdropClick && _this.hide();\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onKeyDown\", function (e) {\n      var hideOnEscKeyDown = _this.props.hideOnEscKeyDown;\n      if (hideOnEscKeyDown && e.keyCode === Dialog.ESC_KEY) return _this.hide();\n      if (e.keyCode !== Dialog.TAB_KEY) return;\n      var tabbableElements = _dom_helpers[\"default\"].findTabbableElements(_this.dialog) || [];\n      if (!tabbableElements.length) return;\n      var maxTabIndex = tabbableElements.length - 1;\n      var lastTabbableEl = tabbableElements[e.shiftKey ? 0 : maxTabIndex];\n\n      var focused = _dom_helpers[\"default\"].getActiveElement();\n\n      if (focused !== lastTabbableEl && Array.from(tabbableElements).indexOf(focused) !== -1) return;\n      e.preventDefault();\n      var firstTabbableEl = tabbableElements[e.shiftKey ? maxTabIndex : 0];\n      firstTabbableEl.focus();\n    });\n\n    return _this;\n  }\n\n  var _proto = Dialog.prototype;\n\n  _proto.componentDidMount = function componentDidMount() {\n    require('../../css/dialog');\n\n    this.setParentZIndex(-1000);\n    if (!this.props.show) return;\n    global.document.addEventListener('keydown', this.onKeyDown);\n    this.lastFocusedElement = _dom_helpers[\"default\"].getActiveElement();\n    this.openDialog();\n  };\n\n  _proto.componentDidUpdate = function componentDidUpdate(oldProps) {\n    var _this$props = this.props,\n        show = _this$props.show,\n        animationDuration = _this$props.animationDuration;\n    if (oldProps.show === show) return;\n\n    if (show) {\n      global.document.addEventListener('keydown', this.onKeyDown);\n      this.lastFocusedElement = _dom_helpers[\"default\"].getActiveElement();\n\n      _dom_helpers[\"default\"].clearTimeout(this.closingTimeout);\n\n      this.openDialog();\n      return;\n    }\n\n    global.document.removeEventListener('keydown', this.onKeyDown);\n    this.lastFocusedElement && this.lastFocusedElement.focus();\n    this.closingTimeout = animationDuration <= 0 ? this.closeDialog() : _dom_helpers[\"default\"].setTimeout(this.closeDialog, animationDuration);\n  };\n\n  _proto.componentWillUnmount = function componentWillUnmount() {\n    this.setBodyScrolling(true);\n  };\n\n  _proto.render = function render() {\n    var _this2 = this;\n\n    var _this$props2 = this.props,\n        show = _this$props2.show,\n        animationDuration = _this$props2.animationDuration,\n        animationEasing = _this$props2.animationEasing,\n        className = _this$props2.className,\n        dialogClassName = _this$props2.dialogClassName,\n        ariaLabelledBy = _this$props2.ariaLabelledBy,\n        width = _this$props2.width,\n        children = _this$props2.children;\n    var visible = this.state.visible;\n    var disableAnimation = animationDuration <= 0;\n    var visibility = visible ? 'visible' : 'hidden';\n    var backdropStyle = {\n      visibility: visibility\n    };\n    var dialogStyle = {\n      width: width\n    };\n\n    if (!disableAnimation) {\n      backdropStyle.transition = \"opacity \" + animationDuration + \"ms \" + animationEasing + \" 0s\";\n      dialogStyle.transition = \"transform \" + animationDuration + \"ms \" + animationEasing + \" 0s\";\n    }\n\n    return _react[\"default\"].createElement(\"div\", {\n      className: (0, _classnames[\"default\"])('pui-dialog-container', {\n        'pui-dialog-visible': visible\n      }),\n      ref: function ref(el) {\n        return _this2.el = el;\n      }\n    }, _react[\"default\"].createElement(\"div\", {\n      className: (0, _classnames[\"default\"])('pui-dialog-backdrop', {\n        'pui-dialog-show': show\n      }, className),\n      style: backdropStyle,\n      onMouseDown: this.onBackdropClick,\n      'aria-hidden': !show,\n      ref: function ref(el) {\n        return _this2.backdrop = el;\n      }\n    }, _react[\"default\"].createElement(\"div\", {\n      role: 'dialog',\n      'aria-labelledby': ariaLabelledBy,\n      ref: function ref(el) {\n        return _this2.dialog = el;\n      },\n      className: (0, _classnames[\"default\"])('pui-dialog', {\n        'pui-dialog-show': show\n      }, dialogClassName),\n      style: dialogStyle\n    }, visible && children)));\n  };\n\n  return Dialog;\n}(_react[\"default\"].PureComponent);\n\nexports.Dialog = Dialog;\n\n_defineProperty(Dialog, \"propTypes\", {\n  animationDuration: _propTypes[\"default\"].number,\n  animationEasing: _propTypes[\"default\"].string,\n  ariaLabelledBy: _propTypes[\"default\"].string,\n  children: _propTypes[\"default\"].any,\n  className: _propTypes[\"default\"].string,\n  dialogClassName: _propTypes[\"default\"].string,\n  hideOnBackdropClick: _propTypes[\"default\"].bool,\n  hideOnEscKeyDown: _propTypes[\"default\"].bool,\n  onHide: _propTypes[\"default\"].func.isRequired,\n  show: _propTypes[\"default\"].bool,\n  title: _propTypes[\"default\"].node,\n  width: _propTypes[\"default\"].string,\n  updateParentZIndex: _propTypes[\"default\"].bool\n});\n\n_defineProperty(Dialog, \"defaultProps\", {\n  animationDuration: 200,\n  animationEasing: 'cubic-bezier(0.25, 0.46, 0.45, 0.94)'\n});\n\n_defineProperty(Dialog, \"ESC_KEY\", 27);\n\n_defineProperty(Dialog, \"TAB_KEY\", 9);"]},"metadata":{},"sourceType":"script"}